/* IMPORTANT INFO:
    Changing settings below will *not* work, as changes will be reset when syncing with AnkiHub.
    To change settings copy the below code from the line saying USER CONFIG
    until the line saying USER CONFIG END. Then scroll to the very bottom beneath the ankihub end comment
    and paste it there. Changing the settings there will overwrite the default settings below.
    Feel free to reach out on the Malleus Discord if you have any troubles.
    At some point in the future we may develop an addon to make card config easier. */


/*USER CONFIG - copy from this line -----------------------------------------------------------------------------------*/

    /* Colors Light Mode* --------------------------  */
    body {
        /* color: */
        /* background-color */
    }

    .cloze,
    .cloze b {
        color: #1e66f5;
    }

    .cloze-inactive,
    .cloze-inactive b {
        color: #179299;
    }

    .highlight-cloze {
        background-color: rgba(255, 255, 0, 0.329);
        border-radius: 3px;
    }

    button {
        background-color: hsl(227, 12%, 71%)
    }

    button:hover{
        background: none;
        background-color: hsl(227, 12%, 90%)
    }

    .expanded-button {
        background-color: hsl(220, 21%, 89%)
    }

    .expanded-button:hover {
        background-color: hsl(220, 21%, 79%)
    }

    #Personal-Notes {
        background-color: #eff1f5;
    }

    #Missed-Questions {
        background-color: #eff1f5;
    }

    #Extra {
        background-color: #eff1f5;
    }

    .ExtraResourceContent{
        background-color: #dce0e8
    }

    .expanded-button {
        background-color: #dce0e8
    }

    #clozecontainer {
        background-color: inherit;
        box-shadow: none;
    }

    /* All bold text inherits surrounding color by default */
    b {
        color: inherit;
    }

    /* Bold text inside the cloze/text field keeps its original color */
    #clozecontainer b {
        color: #8839ef; /* Light mode */
    }

    a {
        color: #1E66F5;
    }

    /*Colors Dark Mode-----------------------------*/

    body.nightMode,
    body.night_mode
    {
        background-color: #181926;
    }

    /* NM Cloze Color */
    .nightMode .cloze,
    .night_mode .cloze,
    .nightMode .cloze b,
    .night_mode .cloze b
    {
        color: #ffaa00;
    }

    .night_mode .cloze-inactive,
    .nightMode .cloze-inactive,
    .night_mode .cloze-inactive b,
    .nightMode .cloze-inactive b {
        color: #00ffe7;
    }

    .night_mode .highlight-cloze,
    .nightMode .highlight-cloze {
        background-color: #ffff0033;
        border-radius: 3px;
    }

    .night_mode button,
    .nightMode button {
        background: none;
        background-color: hsl(231, 16%, 34%)
    }

    .night_mode button:hover,
    .nightMode button:hover {
        background: none;
        background-color: hsl(231, 16%, 24%)
    }

    .night_mode .expanded-button,
    .nightMode .expanded-button {
        background-color: hsl(229, 19%, 23%)
    }

    .night_mode.expanded-button button:hover
    .nightMode .expanded-button button:hover {
        background: none;
        background-color: hsl(229, 19%, 13%)
    }

    .night_mode #Personal-Notes,
    .nightMode #Personal-Notes {
        background-color: #26233A;
    }

    .night_mode #Missed-Questions,
    .nightMode #Missed-Questions {
        background-color: #26233A;
    }

    .night_mode #Extra,
    .nightMode #Extra {
        background-color: #26233A;

    }

    .night_mode #clozecontainer,
    .nightMode #clozecontainer {
        background-color: inherit;
        box-shadow: none;
    }

    .night_mode .ExtraResourceContent,
    .nightMode .ExtraResourceContent {
        background-color: #303446;
    }

    .night_mode .expanded-button,
    .nightMode .expanded-button {
        background-color: #303446
    }

    .night_mode b,
    .nightMode b {
        color:#c6a0f6;
    }

    .night_mode a,
    .nightMode a {
        color: #89B4FA;
    }

/* Special formatting -----------------*/
    /*For beneath imgs and figures*/
    .figure-citation{
        font-size: 10pt !important;
        font-style: italic !important;
    }

    .figure-header{
        margin-bottom: 0.5em;
        font-size: 22px !important;
    }

/*USER CONFIG - until this line ---------------------------------------------------------------------------------------*/
    
/* Blur styles */
img {
  transition: filter 0.3s ease;
}

.blur {
  filter: blur(15px);
}

/* body does not include the extra resource content */
body {
    margin: auto; /*align to center*/
    padding: 0px;
    text-align: center;
    overflow-wrap: anywhere;
}

#btns-1by1{
    text-align: center;
    position: fixed;
    left: 50%;
    transform: translate(-50%);
    bottom: 10px;
    white-space: nowrap;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* Optional shadow for depth */

}


#btns-1by1 > button {
    width:43vw;
    height: 2em;
    margin: 0;
    border: 0;

    outline: 0;
    border-radius: 0.3em;
    text-align: center;
    display: inline-block;
    font-size: 18px;
    margin-top: 8px;
    font-family: inherit;
    font-weight: bold;
}


.cloze {
    font-weight: bold;
    text-decoration: none; /*on ankidroid one-by-one clozes are made to be <a> elements, which by default are underlined*/
}


.container {
    margin: auto;
    display: flex;
    flex-direction: row;
    justify-content: center;
    flex-wrap: wrap;
    width: 100%;
    max-width: 1000px;

}

.element {
    border-radius: 15px; /* Rounded corners */
    padding: min(20px, 2%); /* Space inside the box */
    margin: 8px; /* Center the box horizontally */
    border: 0;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* Optional shadow for depth */
    flex: 1 1 auto;
    min-width: 250px;
    max-width: 1000px;
}

img {
    max-height: none; /*Allows for very tall imgs e.g. eTG complete */
    margin-top: 0.3em; /* Consistent vertical spacing */
    margin-bottom: 0.3em;         
}

.element.elementEnlarged {
    max-width: none !important;
    flex: 0 0 auto;
    width: 95vw !important;
}

.element.elementEnlarged img {
    width:100%;
    max-height: none;
    object-fit: contain;
}

.element > h2{
    margin-top: 0;
    margin-bottom: 8px;
    font-size: 15px;
    text-decoration: underline;
}

html {

    font-size: 28px;
    font-family: Arial;
}

#ExtraResourceButtonContainer{
    display: flex;
    flex-wrap: wrap;
    flex-direction: row;
    justify-content: center;
}

.ExtraResourceButton{
    padding: 0.7em; /* Space inside the box */
    margin: 0px;
    border-radius: 1em !important;

    margin-top: 0.5em; /* Center the box horizontally */

    margin-left: 2px;
    margin-right: 2px;
    margin-left: 0.2em;
    margin-right: 0.2em;

    display: flex;
    flex-direction:row;
}


.ExtraResourceButtonImg{
    margin-top: auto;
    margin-bottom: auto;
    margin-right: 0.5em;
    width: 1em;
    height:1em;
    max-width: none;
    max-height: none;
}

.ExtraResourceButtonTitle{
    text-wrap: nowrap;
    text-align: center;
    margin-top: auto;
    margin-bottom: auto;
    width: 100%;
    white-space: nowrap;

}

#ExtraResourceContent{
    max-width: 100%;
    margin: auto;
}


/* ~~~~~~~~~ TAGS ~~~~~~~~~ */
/* Container To Fix Tags At Bottom Of Screen */
#tags-container {
    width: 90%;
    margin: auto;
    padding-top: 10px;
    padding-bottom: 30px;
}
/* Clickable Tags (need to download the add-on) */
kbd {
    display: inline-block;
    letter-spacing: .1px;
    font-weight: bold;
    font-family: inherit !important;
    font-size: 16px !important;
    text-shadow: none !important;
    padding: 0.05rem 0.1rem !important;
    margin-top: 5px !important;
    margin-bottom: 4px !important;
    margin: 4px !important;
    border-radius: 4px;
    border-width: 1.5px !important;
    border-style: solid;
    background-color: transparent !important;
    box-shadow: none !important;
    opacity: 0.8;
    vertical-align: middle !important;
    line-height: auto !important;
    height: auto !important;
}

/* Tag Becomes More Visible On Hover */
kbd:hover {
    opacity: 1;
    transition: opacity 0.2s ease;
}

/* Tag Colors */
kbd:nth-of-type(1n+0) { border-color: #F44336; color: #F44336!important; }
kbd:nth-of-type(2n+0) { border-color: #9C27B0; color: #9C27B0!important; }
kbd:nth-of-type(3n+0) { border-color: #3F51B5; color: #3F51B5!important; }
kbd:nth-of-type(4n+0) { border-color: #03A9F4; color: #03A9F4!important; }
kbd:nth-of-type(5n+0) { border-color: #009688; color: #009688!important; }
kbd:nth-of-type(6n+0) { border-color: #C0CA33; color: #C0CA33!important; }
kbd:nth-of-type(7n+0) { border-color: #FF9800; color: #FF9800!important;}
kbd:nth-of-type(8n+0) { border-color: #FF5722; color: #FF5722!important; }
kbd:nth-of-type(9n+0) { border-color: #9E9E9E; color: #9E9E9E!important; }
kbd:nth-of-type(10n+0) { border-color: #607D8B; color: #607D8B!important; }

/* Tag Mobile Adjustments */
.mobile kbd {
    opacity: .9;
    margin: 1px !important;
    display: inline-block;
    font-size: 16px !important;
}
.mobile #tags-container {
    line-height: 0.6rem;
}



button{
    outline: none !important;
    background: var(--button-bg);
    border-radius: var(--border-radius);
    border: 1px solid var(--border-subtle);
    font-weight: 500;
    padding: 8px 10px;
    margin: 0 4px;
    -webkit-appearance: none;
    cursor: pointer;
    border: 1px solid var(--border-subtle);
    border-bottom-color: var(--shadow);
    background: var(--button-bg);
    color: var(--fg);
}

#content-source {
    font-size: 0.6em;
    line-height: 1.4;
}

/* ~~~~~~~~~ Lists ~~~~~~~~~ */

ol, ul {
  display: inline-block;        /* Centers list container horizontally */
  margin: 1em auto;             /* Vertical spacing and centering */
  text-align: left;             /* Aligns text to the left */
  max-width: 85%;               /* Slightly narrower for readability */
  padding-left: 0;              /* Remove default browser padding */
}

/* List items */
ol li, ul li {
  margin: 0.4em 0;              /* Space between list items */
  word-wrap: break-word;        /* Prevents long words from breaking layout */
}

ol {
  list-style-position: outside; /* Default numbering position */
  padding-left: 2em;            /* Space for list numbers */
}

ol li::marker {
  font-weight: bold;            /* Emphasize list numbers */
  color: #1e66f5;               /* Blue numbering for contrast */
}

ul {
  list-style: none;             /* Remove browser bullets */
  margin-top: 0;
  margin-bottom: 0;
  padding-left: 1.2em;          /* Space for custom dash */
}

ul li {
  position: relative;           /* Position for custom marker */
  padding-left: 1.3em;          /* Space between dash and text */
  text-align: left;             /* Ensures wrapped text aligns properly */
}

/* Custom dash marker for unordered list items */
ul li::before {
  content: "–";                 /* En dash instead of bullet */
  position: absolute;
  left: 0;
  width: 1.2em;                 /* Keeps dashes visually aligned */
  display: inline-block;
  text-align: left;
  color: inherit;               /* Matches text color */
}

@media (max-width: 600px) {
  ol, ul {
    max-width: 95%;             /* Allow more width on small screens */
  }

  ol {
    padding-left: 1.8em;
  }

  ul {
    padding-left: 1em;
  }

  ul ul {
    padding-left: 1.3em;        /* Adjust nested spacing */
  }
}

/* ~~~~~~~~~TABLE STYLES~~~~~~~~~ */

/* Responsive wrapper to prevent overflow on mobile */
.table-wrapper {
  width: 100%;
  max-width: 100%;
  overflow-x: auto;                 /* Allows horizontal scroll only if needed */
  -webkit-overflow-scrolling: touch;/* Smooth scrolling on mobile */
  box-sizing: border-box;
}

/* General table style */
table {
  width: 100% !important;           /* Fill container width */
  max-width: 100% !important;       /* Prevent overflow */
  margin: 1em auto;
  border-collapse: collapse;
  table-layout: auto !important;    /* Let columns auto-size */
  font-size: clamp(0.7rem, 1.2vw, 1rem);
  color: #000000;
  background-color: #ffffff;
  border: 1px solid black;
  overflow-wrap: anywhere;
  word-break: break-word;
  box-sizing: border-box;
}

/* Table cells and headers */
th, td {
  border: 1px solid black;
  padding: clamp(0.2rem, 1vw, 1rem);
  text-align: center;
  vertical-align: middle;
  font-style: normal;
  white-space: normal;
  overflow-wrap: anywhere;
  word-break: break-word;
  color: #000000;
}

/* Header styling */
th {
  background-color: #eeeeee;
  font-weight: bold;
  text-decoration: underline;
}

/* Left/right column borders */
td:first-child, th:first-child {
  border-left: 1px solid black;
}
td:last-child, th:last-child {
  border-right: 1px solid black;
}

/* Colspan rows */
td[colspan] {
  background-color: #ffffff;
  color: #000000;
  border-top: 1px solid black;
  border-bottom: 1px solid black;
  padding-top: 1vw;
  padding-bottom: 1vw;
}

/* Images inside tables scale properly */
table img {
  max-width: 100% !important;
  height: auto !important;
  display: block;
  margin-left: auto;
  margin-right: auto;
}

/* Handle <col> and <colgroup> fixed widths from Excel exports */
col, colgroup {
  width: auto !important;
  min-width: 0 !important;
}

/* Night mode table styling */
.night_mode table,
.nightMode table {
  color: #ffffff;
  background-color: #26252b;
  border: 1px solid black;
}

/* Night mode headers */
.night_mode th,
.nightMode th {
  background-color: #444444;
  color: #000000;
  font-weight: bold;
  font-size: clamp(1rem, 2.2vw, 1.2rem);
  text-decoration: underline;
}

/* Night mode colspan rows */
.night_mode td[colspan],
.nightMode td[colspan] {
  background-color: #26252b;
  color: #ffffff;
  border-top: 1px solid black;
  border-bottom: 1px solid black;
}

/* Night mode first/last column borders */
.night_mode td:first-child,
.nightMode td:first-child {
  border-left: 1px solid black;
}
.night_mode td:last-child,
.nightMode td:last-child {
  border-right: 1px solid black;
}

/* Mobile/tablet adjustments */
@media (max-width: 600px) {
  .table-wrapper {
    overflow-x: auto;
  }

  table {
    font-size: clamp(0.6rem, 2.5vw, 0.9rem);
  }

  th, td {
    padding: 0.3em;
  }
}

/* ~~~~~~Tag styling~~~~~~ */

/* Android tag fallback styling */
#tags-container {
    display: flex;
    flex-direction: column;
    gap: 6px;
}

/* Target raw text tags on Android */
#tags-container span,
#tags-container div,
#tags-container font {
    display: inline-block;
    padding: 4px 8px;
    border-radius: 4px;
    line-height: 1.2;
    font-size: 0.75em;
    width: fit-content;
    max-width: 100%;
    word-break: break-word;
    background: rgba(255,255,255,0.07);
    border: 1px solid rgba(255,255,255,0.12);
}

/* ✅ Remove literal "#" from Android tags */
#tags-container span::before,
#tags-container div::before,
#tags-container font::before {
    content: "";

/*
ANKIHUB_END
Text below this comment will not be modified by AnkiHub or AnKing add-ons.
Do not edit or remove this comment if you want to protect the content below.
*/
